<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=RFda8w1V0eDZheqfcyQ4EGb3DKsRMD34dqg1gT8Z-p7OfsfM6rvuuu7h1pY3r_-A);ol{margin:0;padding:0}table td,table th{padding:0}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c16{background-color:#2b2b2b;color:#cc7832;text-decoration:none;vertical-align:baseline;font-style:normal}.c11{color:#434343;text-decoration:none;vertical-align:baseline;font-style:normal}.c3{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c21{color:#ff0000;text-decoration:none;vertical-align:baseline;font-style:normal}.c6{font-weight:400;font-size:10pt;font-family:"Merriweather"}.c5{font-size:7pt;font-family:"Courier New";font-weight:700}.c1{font-size:8pt;font-family:"Courier New";font-weight:400}.c10{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c4{font-size:10pt;font-family:"Courier New";font-weight:400}.c14{font-weight:700;font-size:12pt;font-family:"Merriweather"}.c0{font-size:7pt;font-family:"Courier New";font-weight:400}.c9{font-size:10pt;font-family:"Courier New";font-weight:700}.c15{font-size:8pt;font-family:"Courier New";font-weight:700}.c22{font-size:10pt;font-family:"Merriweather";font-weight:700}.c12{font-weight:400;font-size:12pt;font-family:"Merriweather"}.c19{font-size:9pt;font-family:"Merriweather";font-weight:400}.c20{color:#000000;text-decoration:none;vertical-align:baseline}.c24{font-weight:700;font-size:4pt;font-family:"Courier New"}.c18{color:inherit;text-decoration:inherit}.c8{background-color:#ffff00}.c13{font-style:italic}.c17{text-indent:36pt}.c23{color:#1155cc}.c7{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c10 doc-content"><p class="c2"><span class="c14">Java Method Resolution&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c13 c19">(609) 651-7294 </span><span class="c19">| </span><span class="c19 c13 c23"><a class="c18" href="mailto:abonasera25@gmail.com">abonasera25@gmail.com</a></span></p><p class="c2"><span class="c22">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c19 c13 c23"><a class="c18" href="https://www.google.com/url?q=https://github.com/abonasera&amp;sa=D&amp;source=editors&amp;ust=1704607976401533&amp;usg=AOvVaw22uOLYvQHBZtGulC_hQhbG">github.com/abonasera</a></span><span class="c19 c13">&nbsp;</span><span class="c19">| </span><span class="c19 c13 c23"><a class="c18" href="https://www.google.com/url?q=https://www.linkedin.com/in/andrew-bonasera-ru2025/&amp;sa=D&amp;source=editors&amp;ust=1704607976401830&amp;usg=AOvVaw0St66CXFGdNBLwSbj04Q3V">linkedin.com/in/andrew-bonasera-ru2025</a></span></p><p class="c2 c7"><span class="c3 c14"></span></p><p class="c2"><span class="c3 c14">Abstract</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c3 c6">In object-oriented programming languages such as Java, method resolution is an important task when calling functions, as complicated class &amp; interface hierarchies are often present in larger programs. As such, the Java Virtual Machine must be able to resolve the actual owner of a method based on limited information that the bytecode provides.</span></p><p class="c2 c7 c17"><span class="c3 c6"></span></p><p class="c2"><span class="c3 c6">Take for example the following code snippet:<br></span></p><p class="c2"><span class="c9">public interface </span><span class="c3 c4">InterfaceA</span></p><p class="c2"><span class="c3 c4">{</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;</span><span class="c9">int </span><span class="c4">multiply</span><span class="c4">(</span><span class="c9">int </span><span class="c4">a</span><span class="c4">)</span><span class="c3 c4">;</span></p><p class="c2"><span class="c3 c4">}</span></p><p class="c2 c7"><span class="c3 c4"></span></p><p class="c2"><span class="c9">public static class </span><span class="c4">ClassA </span><span class="c9">implements </span><span class="c3 c4">InterfaceA</span></p><p class="c2"><span class="c3 c4">{</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;</span><span class="c4 c13 c20">@Override</span></p><p class="c2"><span class="c4 c13">&nbsp; &nbsp;</span><span class="c9">public int </span><span class="c4">multiply</span><span class="c4">(</span><span class="c9">int </span><span class="c4">a</span><span class="c3 c4">)</span></p><p class="c2"><span class="c3 c4">&nbsp; &nbsp;{</span></p><p class="c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c9">return </span><span class="c4">a </span><span class="c4">* </span><span class="c4">2</span><span class="c3 c4">;</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;</span><span class="c3 c4">}</span></p><p class="c2"><span class="c3 c4">}</span></p><p class="c2 c7"><span class="c3 c4"></span></p><p class="c2"><span class="c9">public static class </span><span class="c4">ClassB </span><span class="c9">extends </span><span class="c3 c4">ClassA</span></p><p class="c2"><span class="c3 c4">{</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;</span><span class="c9">private int </span><span class="c4">someMethod</span><span class="c4">(</span><span class="c9">int </span><span class="c4">a</span><span class="c3 c4">)</span></p><p class="c2"><span class="c3 c4">&nbsp; &nbsp;{</span></p><p class="c2"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c9">return this</span><span class="c4">.multiply(</span><span class="c4">a</span><span class="c4">)</span><span class="c3 c4">;</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;</span><span class="c3 c4">}</span></p><p class="c2"><span class="c3 c4">}</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c6">Looking at the bytecode for </span><span class="c4">ClassB.someMethod</span><span class="c6">, we can see that the JVM makes a call to the </span><span class="c6">method </span><span class="c4">ClassB.multiply</span><span class="c6">, claiming ClassB as the owner of the method </span><span class="c4">multiply</span><span class="c3 c6">.</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c4">&nbsp; &nbsp;</span><span class="c9">private </span><span class="c4">someMethod</span><span class="c4">(</span><span class="c4">I</span><span class="c4">)</span><span class="c3 c4">I</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALOAD </span><span class="c3 c4">0</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c4">ILOAD </span><span class="c3 c4">1</span></p><p class="c2"><span class="c4">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c4">INVOKEVIRTUAL </span><span class="c4 c8">ClassB</span><span class="c4 c8">.multiply</span><span class="c4 c8">&nbsp;</span><span class="c4 c8">(</span><span class="c4 c8">I</span><span class="c4 c8">)</span><span class="c3 c4 c8">I</span></p><p class="c2"><span class="c3 c4">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IRETURN</span></p><p class="c2 c7"><span class="c3 c4"></span></p><p class="c2"><span class="c6">However, &nbsp;we can see that the method </span><span class="c4">multiply</span><span class="c6">&nbsp;is not actually defined in ClassB. Instead, </span><span class="c4">multiply</span><span class="c6">&nbsp;is inherited from ClassA, which is inherited from InterfaceA&mdash; the actual owner of the method. Instead of using the actual owner, the JVM lists the method owner as ClassB instead of InterfaceA. This poses a problem because in a traditional analysis of a Java program, such as one that builds a hierarchy structure of all the classes in a JAR file, it would not be possible to find the actual owner of a method given just the bytecode of that method. There is no way to tell if a called method actually belongs to the owner class until you receive a </span><span class="c4">NoSuchMethodException</span><span class="c3 c6">&nbsp;trying to find it.</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c4">ClassB</span><span class="c4">.</span><span class="c9">class</span><span class="c4">.</span><span class="c4">getDeclaredMethod</span><span class="c4">(</span><span class="c4">&quot;multiply&quot;</span><span class="c4">, </span><span class="c4">Integer</span><span class="c4">.</span><span class="c9 c13">TYPE</span><span class="c4">)</span><span class="c3 c4">; // Won&rsquo;t work, even though the bytecode says ClassB is the owner</span></p><p class="c2 c7"><span class="c4 c16"></span></p><p class="c2"><span class="c4 c21">&gt;java.lang.NoSuchMethodException: ClassB.multiply(int)</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c3 c14">Objective</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c3 c6">Unfortunately, Java&rsquo;s solution to this problem is embedded in the native implementation of the JVM and is not typically something that is available for modification or public viewing. In addition, the process may not be the same across different implementations of the JVM, such as Oracle Hotspot, OpenJ9, etc.</span></p><p class="c2 c17 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c3 c6">My goal is to create an algorithm that will find the actual owner of a given method, given just the method name, parameters, and calling class. I will do this by using recursion to traverse up the class hierarchy tree, checking the class&rsquo; superclass, interfaces, and subsequently the superclasses and superinterfaces of all connected superclasses and interfaces.</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c14">Java Implementation</span></p><p class="c2 c7"><span class="c3 c12"></span></p><p class="c2"><span class="c5">public static </span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">findEarliestMethodDeclarationClass</span><span class="c0">(</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">owner</span><span class="c3 c0">,</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">String </span><span class="c0">name</span><span class="c3 c0">,</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">Class</span><span class="c0">&lt;?&gt;</span><span class="c0">... </span><span class="c0">parameterTypes</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">currentClass </span><span class="c0">= </span><span class="c0">owner</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">lastContainingClass </span><span class="c0">= </span><span class="c5">null</span><span class="c3 c0">;</span></p><p class="c2 c7"><span class="c3 c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">while </span><span class="c0">(</span><span class="c0">currentClass</span><span class="c0">.</span><span class="c0">getSuperclass</span><span class="c0">() </span><span class="c0">!= </span><span class="c5">null</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">if </span><span class="c0">(</span><span class="c0 c13">checkMethodExistence</span><span class="c0">(</span><span class="c0">currentClass</span><span class="c0">, </span><span class="c0">name</span><span class="c0">, </span><span class="c0">parameterTypes</span><span class="c3 c0">)) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">lastContainingClass </span><span class="c0">= </span><span class="c0">currentClass</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">} </span><span class="c5">else </span><span class="c3 c0">{</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">subSearch</span><span class="c0 c3">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">if </span><span class="c0">((</span><span class="c0">subSearch </span><span class="c0">= </span><span class="c0 c13">searchInterfaces</span><span class="c0">(</span><span class="c0">currentClass</span><span class="c0">, </span><span class="c0">name</span><span class="c0">, </span><span class="c0">parameterTypes</span><span class="c0">))</span><span class="c0">!= </span><span class="c5">null</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">lastContainingClass </span><span class="c0">= </span><span class="c0">subSearch</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2"><span class="c3 c0">&nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">currentClass </span><span class="c0">= </span><span class="c0">currentClass</span><span class="c0">.</span><span class="c0">getSuperclass</span><span class="c0">()</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2 c7"><span class="c3 c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">checkClass </span><span class="c0">= </span><span class="c0">lastContainingClass </span><span class="c0">== </span><span class="c5">null </span><span class="c0">? </span><span class="c0">owner </span><span class="c0">: </span><span class="c0">lastContainingClass</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">subSearch</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">if </span><span class="c0">((</span><span class="c0">subSearch </span><span class="c0">= </span><span class="c0 c13">searchInterfaces</span><span class="c0">(</span><span class="c0">checkClass</span><span class="c0">, </span><span class="c0">name</span><span class="c0">, </span><span class="c0">parameterTypes</span><span class="c0">))</span><span class="c0">!= </span><span class="c5">null</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">lastContainingClass </span><span class="c0">= </span><span class="c0">subSearch</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2 c7"><span class="c3 c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">if </span><span class="c0">(</span><span class="c0">lastContainingClass </span><span class="c0">== </span><span class="c5">null</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">throw new </span><span class="c0">IllegalStateException</span><span class="c0">(</span><span class="c0">&quot;Method not found&quot;</span><span class="c0">)</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2 c7"><span class="c3 c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">return </span><span class="c0">lastContainingClass</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">}</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c6">Above is the implementation of the recursive search algorithm that will correctly identify </span><span class="c4">InterfaceA </span><span class="c6">as being the owner of the method </span><span class="c4">multiply</span><span class="c3 c6">. Below are the supplementary utility methods that allow this implementation to work.</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c4">checkMethodExistence</span><span class="c3 c6">, which checks if the given method actually exists in the given class:</span></p><p class="c2 c7"><span class="c3 c5"></span></p><p class="c2"><span class="c5">private static boolean </span><span class="c0">checkMethodExistence</span><span class="c0">(</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">clazz</span><span class="c3 c0">,</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">String </span><span class="c0">name</span><span class="c3 c0">,</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">Class</span><span class="c0">&lt;?&gt;</span><span class="c0">... </span><span class="c0">parameterTypes</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">try</span><span class="c5">&nbsp;</span><span class="c3 c0">{</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">clazz</span><span class="c0">.</span><span class="c0">getDeclaredMethod</span><span class="c0">(</span><span class="c0">name</span><span class="c0">, </span><span class="c0">parameterTypes</span><span class="c0">)</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">return true</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c0">} </span><span class="c5">catch </span><span class="c0">(</span><span class="c0">NoSuchMethodException </span><span class="c0">e</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">return false</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2"><span class="c0">}</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c4">searchInterfaces</span><span class="c3 c6">, which recursively searches all of the interfaces as well as the subsequent superinterfaces of a given class:</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c5">private static </span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">searchInterfaces</span><span class="c0">(</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">owner</span><span class="c3 c0">,</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">String </span><span class="c0">name</span><span class="c3 c0">,</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">Class</span><span class="c0">&lt;?&gt;</span><span class="c0">... </span><span class="c0">parameterTypes</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">for </span><span class="c0">(</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">interfaceClass </span><span class="c0">: </span><span class="c0">owner</span><span class="c0">.</span><span class="c0">getInterfaces</span><span class="c3 c0">()) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">if </span><span class="c0">(</span><span class="c0 c13">checkMethodExistence</span><span class="c0">(</span><span class="c0">interfaceClass</span><span class="c0">, </span><span class="c0">name</span><span class="c0">, </span><span class="c0">parameterTypes</span><span class="c3 c0">)) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">return </span><span class="c0">interfaceClass</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2 c7"><span class="c3 c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">Class</span><span class="c0">&lt;?&gt; </span><span class="c0">subSearch</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">if </span><span class="c0">((</span><span class="c0">subSearch </span><span class="c0">= </span><span class="c0 c13">searchInterfaces</span><span class="c0">(</span><span class="c0">owner</span><span class="c0">, </span><span class="c0">name</span><span class="c0">, </span><span class="c0">parameterTypes</span><span class="c0">)) </span><span class="c0">!= </span><span class="c5">null</span><span class="c3 c0">) {</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">return </span><span class="c0">subSearch</span><span class="c3 c0">;</span></p><p class="c2"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c0">}</span></p><p class="c2"><span class="c3 c0">&nbsp; &nbsp;}</span></p><p class="c2 c7"><span class="c3 c0"></span></p><p class="c2"><span class="c0">&nbsp; &nbsp;</span><span class="c5">return null</span><span class="c3 c0">;</span></p><p class="c2"><span class="c3 c0">}</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c14">Testing</span></p><p class="c2 c7"><span class="c3 c12"></span></p><p class="c2"><span class="c6">This algorithm can be tested by copying the example class structure from the first page into an IDE of your choice, and then copying in the </span><span class="c4">findEarliestMethodDeclarationClass</span><span class="c6">, </span><span class="c4">checkMethodExistence</span><span class="c6">, and </span><span class="c4">searchInterfaces </span><span class="c6">methods. Set up a </span><span class="c4">main</span><span class="c6">&nbsp;method and verify the </span><span class="c4">multiply</span><span class="c3 c6">&nbsp;function.</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c15">public static void </span><span class="c1">main</span><span class="c1">(</span><span class="c1">String</span><span class="c1">[] </span><span class="c1">args</span><span class="c3 c1">) {</span></p><p class="c2"><span class="c1">&nbsp; &nbsp;</span><span class="c1">Class</span><span class="c1">&lt;?&gt; </span><span class="c1">c </span><span class="c1">= </span><span class="c1 c13">findEarliestMethodDeclarationClass</span><span class="c1">(</span><span class="c1">ClassB</span><span class="c1">.</span><span class="c15">class</span><span class="c1">, </span><span class="c1">&quot;multiply&quot;</span><span class="c1">, </span><span class="c1">Integer</span><span class="c1">.</span><span class="c15 c13">TYPE</span><span class="c1">)</span><span class="c3 c1">;</span></p><p class="c2"><span class="c1">&nbsp; &nbsp;</span><span class="c1">System</span><span class="c1">.</span><span class="c15 c13">out</span><span class="c1">.</span><span class="c1">println</span><span class="c1">(</span><span class="c1">c</span><span class="c1">.</span><span class="c1">getSimpleName</span><span class="c1">())</span><span class="c3 c1">;</span></p><p class="c2"><span class="c1">}</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c6">As we can see, the algorithm correctly identifies </span><span class="c4">InterfaceA</span><span class="c3 c6">&nbsp;as being the earliest class in which the method was declared, or the true owner.</span></p><p class="c2 c7"><span class="c3 c6"></span></p><p class="c2"><span class="c4 c11">&gt; Task :Main.main()</span></p><p class="c2"><span class="c11 c4 c8">InterfaceA</span></p></body></html>